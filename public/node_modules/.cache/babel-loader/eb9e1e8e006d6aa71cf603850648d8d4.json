{"ast":null,"code":"var _jsxFileName = \"/home/kim/GitHub/Portfolio/react/netflix-react/src/pages/signup.js\";\nimport React, { useState, useContext } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { Form } from '../components';\nimport { FooterContainer } from '../containers/footer';\nimport { HeaderContainer } from '../containers/header';\nimport * as ROUTES from '../constants/routes';\nimport { FirebaseContext } from '../context/firebase';\nexport default function Signup() {\n  const history = useHistory();\n  const {\n    firebase\n  } = useContext(FirebaseContext);\n  const [firstName, setFirstName] = useState('');\n  const [emailAddress, setEmailAddress] = useState('');\n  const [password, setPassword] = useState('');\n  const [error, setError] = useState('');\n  const [success, setSuccess] = useState('');\n  const isInvalid = firstName === '' || password === '' || emailAddress === '';\n\n  const handleSignUp = e => {\n    e.preventDefault();\n\n    if (isInvalid) {\n      return setError('There is an error with your Name or Email or Password!');\n    }\n\n    firebase.auth().createUserWithEmailAndPassword(emailAddress, password).then(result => {\n      result.user.updateProfile({\n        displayName: firstName,\n        photoURL: Math.floor(Math.random() * 5) + 1\n      }).then(() => {\n        setSuccess('You have successfully signed up! <br> Please wait...');\n        setTimeout(() => {\n          history.push(ROUTES.BROWSE);\n        }, 3000);\n      });\n    }).catch(error => {\n      setError(error.message);\n      setPassword('');\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(HeaderContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Form, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Form.Title, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 11\n    }\n  }, \"Sign Up\"), success && /*#__PURE__*/React.createElement(Form.Success, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 23\n    }\n  }, success), error && /*#__PURE__*/React.createElement(Form.Error, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 21\n    }\n  }, error), !success && /*#__PURE__*/React.createElement(Form.Base, {\n    onSubmit: handleSignUp,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Form.Input, {\n    placeholder: \"First name\",\n    type: \"text\",\n    value: firstName,\n    onChange: e => setFirstName(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(Form.Input, {\n    placeholder: \"Email address\",\n    type: \"email\",\n    value: emailAddress,\n    onChange: e => setEmailAddress(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(Form.Input, {\n    placeholder: \"Password\",\n    type: \"password\",\n    value: password,\n    onChange: e => setPassword(e.target.value),\n    autoComplete: \"false\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(Form.Submit, {\n    type: \"submit\",\n    disabled: isInvalid,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 15\n    }\n  }, \"Sign Up\")), !success && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Form.Text, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 15\n    }\n  }, \"Already a user? \", /*#__PURE__*/React.createElement(Form.Link, {\n    to: \"/signin\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 33\n    }\n  }, \"Sign in now.\")), /*#__PURE__*/React.createElement(Form.TextSmall, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 15\n    }\n  }, \"This page is protected by Google reCAPTCHA to ensure you're not a bot. \\xA0\", /*#__PURE__*/React.createElement(Form.Link, {\n    to: \"/\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 17\n    }\n  }, \"Learn more.\"))))), /*#__PURE__*/React.createElement(FooterContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 7\n    }\n  }));\n}","map":{"version":3,"sources":["/home/kim/GitHub/Portfolio/react/netflix-react/src/pages/signup.js"],"names":["React","useState","useContext","useHistory","Form","FooterContainer","HeaderContainer","ROUTES","FirebaseContext","Signup","history","firebase","firstName","setFirstName","emailAddress","setEmailAddress","password","setPassword","error","setError","success","setSuccess","isInvalid","handleSignUp","e","preventDefault","auth","createUserWithEmailAndPassword","then","result","user","updateProfile","displayName","photoURL","Math","floor","random","setTimeout","push","BROWSE","catch","message","target","value"],"mappings":"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","sourcesContent":["import React, { useState, useContext } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { Form } from '../components';\nimport { FooterContainer } from '../containers/footer';\nimport { HeaderContainer } from '../containers/header';\n\nimport * as ROUTES from '../constants/routes';\nimport { FirebaseContext } from '../context/firebase';\n\nexport default function Signup() {\n  const history = useHistory();\n  const { firebase } = useContext(FirebaseContext);\n  const [firstName, setFirstName] = useState('');\n  const [emailAddress, setEmailAddress] = useState('');\n  const [password, setPassword] = useState('');\n  const [error, setError] = useState('');\n  const [success, setSuccess] = useState('');\n\n  const isInvalid = firstName === '' || password === '' || emailAddress === '';\n  const handleSignUp = (e) => {\n    e.preventDefault();\n    if (isInvalid) {\n      return setError('There is an error with your Name or Email or Password!');\n    }\n\n    firebase\n      .auth()\n      .createUserWithEmailAndPassword(emailAddress, password)\n      .then((result) => {\n        result.user\n          .updateProfile({\n            displayName: firstName,\n            photoURL: Math.floor(Math.random() * 5) + 1,\n          })\n          .then(() => {\n            setSuccess('You have successfully signed up! <br> Please wait...');\n            setTimeout(() => {\n              history.push(ROUTES.BROWSE);\n            }, 3000);\n          });\n      })\n      .catch((error) => {\n        setError(error.message);\n        setPassword('');\n      });\n  };\n\n  return (\n    <>\n      <HeaderContainer>\n        <Form>\n          <Form.Title>Sign Up</Form.Title>\n          {success && <Form.Success>{success}</Form.Success>}\n          {error && <Form.Error>{error}</Form.Error>}\n\n          {!success && (\n            <Form.Base onSubmit={handleSignUp}>\n              <Form.Input\n                placeholder=\"First name\"\n                type=\"text\"\n                value={firstName}\n                onChange={(e) => setFirstName(e.target.value)}\n              />\n\n              <Form.Input\n                placeholder=\"Email address\"\n                type=\"email\"\n                value={emailAddress}\n                onChange={(e) => setEmailAddress(e.target.value)}\n              />\n\n              <Form.Input\n                placeholder=\"Password\"\n                type=\"password\"\n                value={password}\n                onChange={(e) => setPassword(e.target.value)}\n                autoComplete=\"false\"\n              />\n\n              <Form.Submit type=\"submit\" disabled={isInvalid}>\n                Sign Up\n              </Form.Submit>\n            </Form.Base>\n          )}\n\n          {!success && (\n            <>\n              <Form.Text>\n                Already a user? <Form.Link to=\"/signin\">Sign in now.</Form.Link>\n              </Form.Text>\n              <Form.TextSmall>\n                This page is protected by Google reCAPTCHA to ensure you're not a bot. &nbsp;\n                <Form.Link to=\"/\">Learn more.</Form.Link>\n              </Form.TextSmall>\n            </>\n          )}\n        </Form>\n      </HeaderContainer>\n\n      <FooterContainer />\n    </>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}