{"ast":null,"code":"import _slicedToArray from\"/home/kim/GitHub/Portfolio/react/netflix-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";/* eslint-disable no-nested-ternary */import React,{useState,useContext,useEffect}from'react';import Fuse from'fuse.js';import{FirebaseContext}from'../context/firebase';import{useAuthListener}from'../hooks';import{SelectProfileContainer}from'./profiles';import{Header,Loading,Card,Player}from'../components';import*as ROUTES from'../constants/routes';import{FooterContainer}from'./footer';export function BrowseContainer(_ref){var slides=_ref.slides;var _useContext=useContext(FirebaseContext),firebase=_useContext.firebase;var user=firebase.auth().currentUser||{};var _useState=useState({}),_useState2=_slicedToArray(_useState,2),profile=_useState2[0],setProfile=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),searchTerm=_useState6[0],setSearchTerm=_useState6[1];var _useState7=useState('series'),_useState8=_slicedToArray(_useState7,2),category=_useState8[0],setCategory=_useState8[1];var _useState9=useState([]),_useState10=_slicedToArray(_useState9,2),slideRows=_useState10[0],setSlideRows=_useState10[1];// const { user } = useAuthListener();\n// console.log(user);\nuseEffect(function(){setTimeout(function(){setLoading(false);},3000);},[profile.displayName]);useEffect(function(){setSlideRows(slides[category]);},[slides,category]);useEffect(function(){var fuse=new Fuse(slideRows,{keys:['data.title','data.description','data.genre']});var results=fuse.search(searchTerm).map(function(_ref2){var item=_ref2.item;return item;});if(slideRows.length>0&&searchTerm.length>2&&results.length>0){setSlideRows(results);}else{setSlideRows(slides[category]);}},[searchTerm]);return profile.displayName?/*#__PURE__*/React.createElement(React.Fragment,null,loading?/*#__PURE__*/React.createElement(Loading,{src:user.photoURL}):/*#__PURE__*/React.createElement(Loading.ReleaseBody,null),/*#__PURE__*/React.createElement(Header,{src:\"joker1\",dontShowOnSmallViewPort:true},/*#__PURE__*/React.createElement(Header.Frame,null,/*#__PURE__*/React.createElement(Header.Group,null,/*#__PURE__*/React.createElement(Header.Logo,{to:ROUTES.HOME,src:\"/images/logo.svg\",alt:\"Netflix\"}),/*#__PURE__*/React.createElement(Header.TextLink,{active:category==='series'?'true':'false',onClick:function onClick(){return setCategory('series');}},\"Series\"),/*#__PURE__*/React.createElement(Header.TextLink,{active:category==='films'?'true':'false',onClick:function onClick(){return setCategory('films');}},\"Films\")),/*#__PURE__*/React.createElement(Header.Group,null,/*#__PURE__*/React.createElement(Header.Search,{searchTerm:searchTerm,setSearchTerm:setSearchTerm}),/*#__PURE__*/React.createElement(Header.Profile,null,/*#__PURE__*/React.createElement(Header.Picture,{src:user.photoURL}),/*#__PURE__*/React.createElement(Header.Dropdown,null,/*#__PURE__*/React.createElement(Header.Group,null,/*#__PURE__*/React.createElement(Header.Picture,{src:user.photoURL}),/*#__PURE__*/React.createElement(Header.TextLink,null,user.displayName)),/*#__PURE__*/React.createElement(Header.Group,null,/*#__PURE__*/React.createElement(Header.TextLink,{onClick:function onClick(){return firebase.auth().signOut();}},\"Sign out\")))))),/*#__PURE__*/React.createElement(Header.Feature,null,/*#__PURE__*/React.createElement(Header.FeatureCallOut,null,\"Watch Joker Now\"),/*#__PURE__*/React.createElement(Header.Text,null,\"Forever alone in a crowd, failed comedian Arthur Fleck seeks connection as he walks the streets of Gotham City. Arthur wears two masks -- the one he paints for his day job as a clown, and the guise he projects in a futile attempt to feel like he's part of the world around him.\"),/*#__PURE__*/React.createElement(Header.PlayButton,null,\"Play\"))),/*#__PURE__*/React.createElement(Card.Group,null,slideRows.map(function(slideItem){return/*#__PURE__*/React.createElement(Card,{key:\"\".concat(category,\"-\").concat(slideItem.title.toLowerCase())},/*#__PURE__*/React.createElement(Card.Title,null,slideItem.title),/*#__PURE__*/React.createElement(Card.Entities,null,slideItem.data.map(function(item){return/*#__PURE__*/React.createElement(Card.Item,{key:item.docId,item:item},/*#__PURE__*/React.createElement(Card.Image,{src:\"/images/\".concat(category,\"/\").concat(item.genre,\"/\").concat(item.slug,\"/small.jpg\")}),/*#__PURE__*/React.createElement(Card.Meta,null,/*#__PURE__*/React.createElement(Card.SubTitle,null,item.title),/*#__PURE__*/React.createElement(Card.Text,null,item.description)));})),/*#__PURE__*/React.createElement(Card.Feature,{category:category},/*#__PURE__*/React.createElement(Player,null,/*#__PURE__*/React.createElement(Player.Button,null),/*#__PURE__*/React.createElement(Player.Video,{src:\"./videos/bunny.mp4\"}))));})),/*#__PURE__*/React.createElement(FooterContainer,null)):/*#__PURE__*/React.createElement(SelectProfileContainer,{user:user,setProfile:setProfile});}","map":{"version":3,"sources":["/home/kim/GitHub/Portfolio/react/netflix-react/src/containers/browse.js"],"names":["React","useState","useContext","useEffect","Fuse","FirebaseContext","useAuthListener","SelectProfileContainer","Header","Loading","Card","Player","ROUTES","FooterContainer","BrowseContainer","slides","firebase","user","auth","currentUser","profile","setProfile","loading","setLoading","searchTerm","setSearchTerm","category","setCategory","slideRows","setSlideRows","setTimeout","displayName","fuse","keys","results","search","map","item","length","photoURL","HOME","signOut","slideItem","title","toLowerCase","data","docId","genre","slug","description"],"mappings":"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","sourcesContent":["/* eslint-disable no-nested-ternary */\nimport React, { useState, useContext, useEffect } from 'react';\nimport Fuse from 'fuse.js';\nimport { FirebaseContext } from '../context/firebase';\nimport { useAuthListener } from '../hooks';\nimport { SelectProfileContainer } from './profiles';\nimport { Header, Loading, Card, Player } from '../components';\nimport * as ROUTES from '../constants/routes';\nimport { FooterContainer } from './footer';\n\nexport function BrowseContainer({ slides }) {\n  const { firebase } = useContext(FirebaseContext);\n  const user = firebase.auth().currentUser || {};\n\n  const [profile, setProfile] = useState({});\n  const [loading, setLoading] = useState(true);\n\n  const [searchTerm, setSearchTerm] = useState('');\n  const [category, setCategory] = useState('series');\n  const [slideRows, setSlideRows] = useState([]);\n\n  // const { user } = useAuthListener();\n  // console.log(user);\n\n  useEffect(() => {\n    setTimeout(() => {\n      setLoading(false);\n    }, 3000);\n  }, [profile.displayName]);\n\n  useEffect(() => {\n    setSlideRows(slides[category]);\n  }, [slides, category]);\n\n  useEffect(() => {\n    const fuse = new Fuse(slideRows, { keys: ['data.title', 'data.description', 'data.genre'] });\n    const results = fuse.search(searchTerm).map(({ item }) => item);\n\n    if (slideRows.length > 0 && searchTerm.length > 2 && results.length > 0) {\n      setSlideRows(results);\n    } else {\n      setSlideRows(slides[category]);\n    }\n  }, [searchTerm]);\n\n  return profile.displayName ? (\n    <>\n      {loading ? <Loading src={user.photoURL} /> : <Loading.ReleaseBody />}\n      <Header src=\"joker1\" dontShowOnSmallViewPort>\n        <Header.Frame>\n          <Header.Group>\n            <Header.Logo to={ROUTES.HOME} src=\"/images/logo.svg\" alt=\"Netflix\" />\n            <Header.TextLink active={category === 'series' ? 'true' : 'false'} onClick={() => setCategory('series')}>\n              Series\n            </Header.TextLink>\n            <Header.TextLink active={category === 'films' ? 'true' : 'false'} onClick={() => setCategory('films')}>\n              Films\n            </Header.TextLink>\n          </Header.Group>\n          <Header.Group>\n            <Header.Search searchTerm={searchTerm} setSearchTerm={setSearchTerm} />\n            <Header.Profile>\n              <Header.Picture src={user.photoURL} />\n              <Header.Dropdown>\n                <Header.Group>\n                  <Header.Picture src={user.photoURL} />\n                  <Header.TextLink>{user.displayName}</Header.TextLink>\n                </Header.Group>\n                <Header.Group>\n                  <Header.TextLink onClick={() => firebase.auth().signOut()}>Sign out</Header.TextLink>\n                </Header.Group>\n              </Header.Dropdown>\n            </Header.Profile>\n          </Header.Group>\n        </Header.Frame>\n\n        <Header.Feature>\n          <Header.FeatureCallOut>Watch Joker Now</Header.FeatureCallOut>\n          <Header.Text>\n            Forever alone in a crowd, failed comedian Arthur Fleck seeks connection as he walks the streets of Gotham\n            City. Arthur wears two masks -- the one he paints for his day job as a clown, and the guise he projects in a\n            futile attempt to feel like he's part of the world around him.\n          </Header.Text>\n          <Header.PlayButton>Play</Header.PlayButton>\n        </Header.Feature>\n      </Header>\n\n      <Card.Group>\n        {slideRows.map((slideItem) => (\n          <Card key={`${category}-${slideItem.title.toLowerCase()}`}>\n            <Card.Title>{slideItem.title}</Card.Title>\n            <Card.Entities>\n              {slideItem.data.map((item) => (\n                <Card.Item key={item.docId} item={item}>\n                  <Card.Image src={`/images/${category}/${item.genre}/${item.slug}/small.jpg`} />\n\n                  <Card.Meta>\n                    <Card.SubTitle>{item.title}</Card.SubTitle>\n                    <Card.Text>{item.description}</Card.Text>\n                  </Card.Meta>\n                </Card.Item>\n              ))}\n            </Card.Entities>\n            <Card.Feature category={category}>\n              <Player>\n                <Player.Button />\n                <Player.Video src=\"./videos/bunny.mp4\" />\n              </Player>\n            </Card.Feature>\n          </Card>\n        ))}\n      </Card.Group>\n\n      <FooterContainer />\n    </>\n  ) : (\n    <SelectProfileContainer user={user} setProfile={setProfile} />\n  );\n}\n"]},"metadata":{},"sourceType":"module"}