{"ast":null,"code":"import _slicedToArray from\"/home/kim/GitHub/Portfolio/react/netflix-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useContext}from'react';import{useHistory}from'react-router-dom';import{Form}from'../components';import{FooterContainer}from'../containers/footer';import{HeaderContainer}from'../containers/header';import*as ROUTES from'../constants/routes';import{FirebaseContext}from'../context/firebase';export default function Signup(){var history=useHistory();var _useContext=useContext(FirebaseContext),firebase=_useContext.firebase;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),firstName=_useState2[0],setFirstName=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),emailAddress=_useState4[0],setEmailAddress=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),password=_useState6[0],setPassword=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),error=_useState8[0],setError=_useState8[1];var _useState9=useState(''),_useState10=_slicedToArray(_useState9,2),success=_useState10[0],setSuccess=_useState10[1];var isInvalid=firstName===''||password===''||emailAddress==='';var handleSignUp=function handleSignUp(e){e.preventDefault();if(isInvalid){return setError('There is an error with your Name or Email or Password!');}firebase.auth().createUserWithEmailAndPassword(emailAddress,password).then(function(result){result.user.updateProfile({displayName:firstName,photoURL:Math.floor(Math.random()*5)+1}).then(function(){setSuccess('You have successfully signed up! <br> Please wait...');setTimeout(function(){history.push(ROUTES.BROWSE);},3000);});}).catch(function(error){setError(error.message);setPassword('');});};return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(HeaderContainer,null,/*#__PURE__*/React.createElement(Form,null,/*#__PURE__*/React.createElement(Form.Title,null,\"Sign Up\"),success&&/*#__PURE__*/React.createElement(Form.Success,null,success),error&&/*#__PURE__*/React.createElement(Form.Error,null,error),!success&&/*#__PURE__*/React.createElement(Form.Base,{onSubmit:handleSignUp},/*#__PURE__*/React.createElement(Form.Input,{placeholder:\"First name\",type:\"text\",value:firstName,onChange:function onChange(e){return setFirstName(e.target.value);}}),/*#__PURE__*/React.createElement(Form.Input,{placeholder:\"Email address\",type:\"email\",value:emailAddress,onChange:function onChange(e){return setEmailAddress(e.target.value);}}),/*#__PURE__*/React.createElement(Form.Input,{placeholder:\"Password\",type:\"password\",value:password,onChange:function onChange(e){return setPassword(e.target.value);},autoComplete:\"false\"}),/*#__PURE__*/React.createElement(Form.Submit,{type:\"submit\",disabled:isInvalid},\"Sign Up\")),!success&&/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Form.Text,null,\"Already a user? \",/*#__PURE__*/React.createElement(Form.Link,{to:\"/signin\"},\"Sign in now.\")),/*#__PURE__*/React.createElement(Form.TextSmall,null,\"This page is protected by Google reCAPTCHA to ensure you're not a bot. \\xA0\",/*#__PURE__*/React.createElement(Form.Link,{to:\"/\"},\"Learn more.\"))))),/*#__PURE__*/React.createElement(FooterContainer,null));}","map":{"version":3,"sources":["/home/kim/GitHub/Portfolio/react/netflix-react/src/pages/signup.js"],"names":["React","useState","useContext","useHistory","Form","FooterContainer","HeaderContainer","ROUTES","FirebaseContext","Signup","history","firebase","firstName","setFirstName","emailAddress","setEmailAddress","password","setPassword","error","setError","success","setSuccess","isInvalid","handleSignUp","e","preventDefault","auth","createUserWithEmailAndPassword","then","result","user","updateProfile","displayName","photoURL","Math","floor","random","setTimeout","push","BROWSE","catch","message","target","value"],"mappings":"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","sourcesContent":["import React, { useState, useContext } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { Form } from '../components';\nimport { FooterContainer } from '../containers/footer';\nimport { HeaderContainer } from '../containers/header';\n\nimport * as ROUTES from '../constants/routes';\nimport { FirebaseContext } from '../context/firebase';\n\nexport default function Signup() {\n  const history = useHistory();\n  const { firebase } = useContext(FirebaseContext);\n  const [firstName, setFirstName] = useState('');\n  const [emailAddress, setEmailAddress] = useState('');\n  const [password, setPassword] = useState('');\n  const [error, setError] = useState('');\n  const [success, setSuccess] = useState('');\n\n  const isInvalid = firstName === '' || password === '' || emailAddress === '';\n  const handleSignUp = (e) => {\n    e.preventDefault();\n    if (isInvalid) {\n      return setError('There is an error with your Name or Email or Password!');\n    }\n\n    firebase\n      .auth()\n      .createUserWithEmailAndPassword(emailAddress, password)\n      .then((result) => {\n        result.user\n          .updateProfile({\n            displayName: firstName,\n            photoURL: Math.floor(Math.random() * 5) + 1,\n          })\n          .then(() => {\n            setSuccess('You have successfully signed up! <br> Please wait...');\n            setTimeout(() => {\n              history.push(ROUTES.BROWSE);\n            }, 3000);\n          });\n      })\n      .catch((error) => {\n        setError(error.message);\n        setPassword('');\n      });\n  };\n\n  return (\n    <>\n      <HeaderContainer>\n        <Form>\n          <Form.Title>Sign Up</Form.Title>\n          {success && <Form.Success>{success}</Form.Success>}\n          {error && <Form.Error>{error}</Form.Error>}\n\n          {!success && (\n            <Form.Base onSubmit={handleSignUp}>\n              <Form.Input\n                placeholder=\"First name\"\n                type=\"text\"\n                value={firstName}\n                onChange={(e) => setFirstName(e.target.value)}\n              />\n\n              <Form.Input\n                placeholder=\"Email address\"\n                type=\"email\"\n                value={emailAddress}\n                onChange={(e) => setEmailAddress(e.target.value)}\n              />\n\n              <Form.Input\n                placeholder=\"Password\"\n                type=\"password\"\n                value={password}\n                onChange={(e) => setPassword(e.target.value)}\n                autoComplete=\"false\"\n              />\n\n              <Form.Submit type=\"submit\" disabled={isInvalid}>\n                Sign Up\n              </Form.Submit>\n            </Form.Base>\n          )}\n\n          {!success && (\n            <>\n              <Form.Text>\n                Already a user? <Form.Link to=\"/signin\">Sign in now.</Form.Link>\n              </Form.Text>\n              <Form.TextSmall>\n                This page is protected by Google reCAPTCHA to ensure you're not a bot. &nbsp;\n                <Form.Link to=\"/\">Learn more.</Form.Link>\n              </Form.TextSmall>\n            </>\n          )}\n        </Form>\n      </HeaderContainer>\n\n      <FooterContainer />\n    </>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}