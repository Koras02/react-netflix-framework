{"ast":null,"code":"import _regeneratorRuntime from\"/home/kim/GitHub/Portfolio/react/movie-netflix-framework/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/kim/GitHub/Portfolio/react/movie-netflix-framework/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/kim/GitHub/Portfolio/react/movie-netflix-framework/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useContext,useState}from'react';import{HeaderContainer}from'../containers/header';import{Form}from\"../components\";import{FirebaseContext}from'../context/firebase';import{useHistory}from'react-router';import*as ROUTES from'../constants/routes';import{FooterContainer}from'../containers/footer';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function SignUp(){var _useContext=useContext(FirebaseContext),firebase=_useContext.firebase;var history=useHistory();// 이메일 주소 비밀 번호 \nvar _useState=useState(''),_useState2=_slicedToArray(_useState,2),firstName=_useState2[0],setFirstName=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),emailAddress=_useState4[0],setEmailAddress=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),password=_useState6[0],setPassword=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),error=_useState8[0],setError=_useState8[1];// 핸드폰 번호 이메일 && 핸드폰번호 비밀번호 입력 방식 \nvar isInvalid=firstName==''||emailAddress===''||password==='';function handleSignIn(_x){return _handleSignIn.apply(this,arguments);}function _handleSignIn(){_handleSignIn=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();// 로그인 방식 auth 접속후 Email과 Password 입력 \n// 입력완료시 history 로 Router가 설정된 Browse 사이트로 이동\nfirebase.auth().signInWithEmailAndPassword(emailAddress,password)//  .signInPhoneNumber(phoneNumber.password)\n.then(function(result){result.user.updateProfile({displayName:firstName,photoURL:Math.floor(Math.random()*5+1)});}).then(function(){history.push(ROUTES.BROWSE);}).catch(function(error){setError(error.massage);// 패스워드와 이메일 주소를 입력하지않거나 맞지 않을 경우 오류\nsetFirstName('');setEmailAddress('');setPassword('');setError(error.message);});case 2:case\"end\":return _context.stop();}}},_callee);}));return _handleSignIn.apply(this,arguments);};// 로그인 구현 \nreturn/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(HeaderContainer,{children:/*#__PURE__*/_jsxs(Form,{children:[/*#__PURE__*/_jsx(Form.Title,{children:\"\\uD68C\\uC6D0 \\uAC00\\uC785\"}),error&&/*#__PURE__*/_jsx(Form.Error,{\"data-testid\":\"error\",children:\"\\uD604\\uC7AC \\uC0AC\\uC6A9\\uC911\\uC778 \\uC774\\uBA54\\uC77C\\uC774\\uAC70\\uB098 \\uBE44\\uBC00\\uBC88\\uD638 \\uC624\\uB958\\uC785\\uB2C8\\uB2E4.\"}),/*#__PURE__*/_jsxs(Form.Base,{onSubmit:handleSignIn,method:\"POST\",children:[/*#__PURE__*/_jsx(Form.Input,{placeholder:\"First name\",value:firstName,onChange:function onChange(_ref){var target=_ref.target;return setFirstName(target.value);}}),/*#__PURE__*/_jsx(Form.Input,{placeholder:\"\\uC774\\uBA54\\uC77C \\uC8FC\\uC18C \\uB610\\uB294 \\uC804\\uD654 \\uBC88\\uD638\",type:\"email\",value:emailAddress,onChange:function onChange(e){return setEmailAddress(e.target.value);}}),/*#__PURE__*/_jsx(Form.Input,{type:\"password\",placeholder:\"\\uBE44\\uBC00\\uBC88\\uD638\",autoComplate:\"off\",value:password,onChange:function onChange(e){return setPassword(e.target.value);}}),/*#__PURE__*/_jsx(Form.Submit,{type:\"submit\",disabled:isInvalid,\"data-testid\":\"sign-up\",children:\"\\uD68C\\uC6D0\\uAC00\\uC785\"})]}),/*#__PURE__*/_jsxs(Form.Text,{children:[\"Netflix \\uD68C\\uC6D0\\uC774 \\uC544\\uB2CC\\uAC00\\uC694? \",/*#__PURE__*/_jsx(Form.Link,{to:\"/signup\",children:\"\\uC9C0\\uAE08 \\uAC00\\uC785\\uD558\\uC138\\uC694\"})]}),/*#__PURE__*/_jsxs(Form.Text,{children:[\"\\uC774 \\uD398\\uC774\\uC9C0\\uB294 Google reCAPTCHA\\uC758 \\uBCF4\\uD638\\uB97C \\uBC1B\\uC544 \\uC0AC\\uC6A9\\uC790\\uAC00 \\uB85C\\uBD07\\uC774 \\uC544\\uB2D8\\uC744 \\uD655\\uC778\\uD569\\uB2C8\\uB2E4. \",/*#__PURE__*/_jsx(Form.AboutLink,{href:\"\",children:\"\\uC790\\uC138\\uD788 \\uC54C\\uC544\\uBCF4\\uAE30\"})]})]})}),/*#__PURE__*/_jsx(FooterContainer,{})]});}","map":{"version":3,"sources":["/home/kim/GitHub/Portfolio/react/movie-netflix-framework/client/src/pages/signup.js"],"names":["React","useContext","useState","HeaderContainer","Form","FirebaseContext","useHistory","ROUTES","FooterContainer","SignUp","firebase","history","firstName","setFirstName","emailAddress","setEmailAddress","password","setPassword","error","setError","isInvalid","handleSignIn","e","preventDefault","auth","signInWithEmailAndPassword","then","result","user","updateProfile","displayName","photoURL","Math","floor","random","push","BROWSE","catch","massage","message","target","value"],"mappings":"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","sourcesContent":["import React, { useContext, useState } from 'react';\nimport { HeaderContainer } from '../containers/header';\nimport { Form } from \"../components\";\nimport { FirebaseContext } from '../context/firebase';\nimport { useHistory } from 'react-router';\nimport * as ROUTES from '../constants/routes';\nimport { FooterContainer } from '../containers/footer';\n\n\nexport default function  SignUp() {\n    const { firebase } = useContext(FirebaseContext);\n    const history = useHistory();\n    \n    // 이메일 주소 비밀 번호 \n    const [firstName, setFirstName] = useState('');\n    const [emailAddress, setEmailAddress] = useState('');\n    const [password, setPassword] = useState('');\n    const [error, setError] = useState('');\n \n\n    // 핸드폰 번호 이메일 && 핸드폰번호 비밀번호 입력 방식 \n    const isInvalid = firstName == '' || emailAddress === '' || password === ''\n\n    async function handleSignIn (e)  {\n       e.preventDefault();\n\n       // 로그인 방식 auth 접속후 Email과 Password 입력 \n       // 입력완료시 history 로 Router가 설정된 Browse 사이트로 이동\n       firebase\n         .auth()\n         .signInWithEmailAndPassword(emailAddress,password)\n        //  .signInPhoneNumber(phoneNumber.password)\n         .then(result => {\n             result.user.updateProfile({\n                 displayName: firstName,\n                 photoURL: Math.floor(Math.random() * 5 + 1)\n             })\n         })\n\n         .then(() => {\n             history.push(ROUTES.BROWSE)\n         })\n\n         .catch((error) => {\n             setError(error.massage);\n             // 패스워드와 이메일 주소를 입력하지않거나 맞지 않을 경우 오류\n             setFirstName('')\n             setEmailAddress('');\n             setPassword('');\n             setError(error.message);\n         });        \n    };\n\n    // 로그인 구현 \n    return (\n       <>\n         <HeaderContainer>\n            <Form>\n              <Form.Title>회원 가입</Form.Title>\n              {/* 로그인 실패시 에러 */}\n              {error && <Form.Error data-testid=\"error\">현재 사용중인 이메일이거나 비밀번호 오류입니다.\n              </Form.Error>}\n          \n              <Form.Base onSubmit={handleSignIn} method=\"POST\">\n                <Form.Input\n                placeholder='First name'\n                value={firstName}\n                onChange={({ target }) => setFirstName(target.value)}\n                />\n                 <Form.Input \n                    placeholder=\"이메일 주소 또는 전화 번호\"  \n                    type=\"email\"\n                    value={emailAddress}\n                    onChange={(e) => setEmailAddress(e.target.value)} \n                   \n               \n                />\n                <Form.Input \n                   type=\"password\"\n                   placeholder=\"비밀번호\"\n                   autoComplate='off'\n                   value={password}\n                   onChange={(e) => setPassword(e.target.value)}\n             \n                />\n\n                <Form.Submit type=\"submit\" disabled={isInvalid} data-testid=\"sign-up\">\n                   회원가입\n                </Form.Submit>\n              </Form.Base>\n              <Form.Text>\n                Netflix 회원이 아닌가요? <Form.Link to=\"/signup\">지금 가입하세요</Form.Link>\n              </Form.Text>\n              <Form.Text>\n                  이 페이지는 Google reCAPTCHA의 보호를 받아 사용자가 로봇이 아님을 확인합니다. <Form.AboutLink href=\"\">자세히 알아보기</Form.AboutLink>\n              </Form.Text>\n            </Form>\n         </HeaderContainer>\n            <FooterContainer/>\n       </>  \n    )\n}\n\n "]},"metadata":{},"sourceType":"module"}