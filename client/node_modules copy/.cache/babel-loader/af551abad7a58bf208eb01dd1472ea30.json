{"ast":null,"code":"import _objectSpread from\"/home/kim/GitHub/Portfolio/react/movie-netflix-framework/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/kim/GitHub/Portfolio/react/movie-netflix-framework/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import axios from\"axios\";import{api_key}from'../../axios/urls';import SingleMovie from'../SingleMovie/SingleMovie';import PaginationComponent from'../Pagination/PaginationComponent';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Movie=function Movie(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),movies=_useState2[0],setMovies=_useState2[1];var _useState3=useState(1),_useState4=_slicedToArray(_useState3,2),page=_useState4[0],setPage=_useState4[1];var _useState5=useState(10),_useState6=_slicedToArray(_useState5,2),numPages=_useState6[0],setNumPages=_useState6[1];function getMovies(page){axios({method:\"GET\",url:\"https://api.themoviedb.org/3/discover/movie?api_key=\".concat(api_key,\"&language=ko&sort_by=popularity.desc&include_adult=false&include_video=false&page=1&with_watch_monetization_types=flatrate&page=\").concat(page)}).then(function(response){var _response$data$result;setMovies((_response$data$result=response.data.results)!==null&&_response$data$result!==void 0?_response$data$result:[]);setNumPages(response.data.total_pages);});}useEffect(function(){getMovies(page);},[page]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"span\",{className:\"movie__container\",children:\"\\uC601\\uD654\"}),/*#__PURE__*/_jsx(\"div\",{className:\"movies\",children:movies.length>0&&movies.map(function(movie,index){return/*#__PURE__*/_jsx(SingleMovie,_objectSpread({media_type:'movie',movie:movie},movie),movie.id);})}),numPages>1&&/*#__PURE__*/_jsx(PaginationComponent,{setPage:setPage,numPages:numPages})]});};export default Movie;","map":{"version":3,"sources":["/home/kim/GitHub/Portfolio/react/movie-netflix-framework/src/Pages/Movie/Movie.js"],"names":["React","useEffect","useState","axios","api_key","SingleMovie","PaginationComponent","Movie","movies","setMovies","page","setPage","numPages","setNumPages","getMovies","method","url","then","response","data","results","total_pages","length","map","movie","index","id"],"mappings":"6VAAA,MAAOA,CAAAA,KAAP,EAAeC,SAAf,CAA0BC,QAA1B,KAAyC,OAAzC,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,OAAT,KAAwB,kBAAxB,CAEA,MAAOC,CAAAA,WAAP,KAAwB,4BAAxB,CACA,MAAOC,CAAAA,mBAAP,KAAgC,mCAAhC,C,6IAGA,GAAMC,CAAAA,KAAK,CAAG,QAARA,CAAAA,KAAQ,EAAM,eACYL,QAAQ,CAAC,EAAD,CADpB,wCACTM,MADS,eACDC,SADC,8BAEQP,QAAQ,CAAC,CAAD,CAFhB,yCAETQ,IAFS,eAEHC,OAFG,8BAGgBT,QAAQ,CAAC,EAAD,CAHxB,yCAGTU,QAHS,eAGCC,WAHD,eAKhB,QAASC,CAAAA,SAAT,CAAmBJ,IAAnB,CAAyB,CACrBP,KAAK,CAAC,CACFY,MAAM,CAAE,KADN,CAEFC,GAAG,+DAAyDZ,OAAzD,4IAAmMM,IAAnM,CAFD,CAAD,CAAL,CAGGO,IAHH,CAGQ,SAAAC,QAAQ,CAAI,2BAChBT,SAAS,wBAACS,QAAQ,CAACC,IAAT,CAAcC,OAAf,+DAA0B,EAA1B,CAAT,CACAP,WAAW,CAACK,QAAQ,CAACC,IAAT,CAAcE,WAAf,CAAX,CAEH,CAPD,EAQH,CACDpB,SAAS,CAAC,UAAM,CACZa,SAAS,CAACJ,IAAD,CAAT,CACH,CAFQ,CAEP,CAACA,IAAD,CAFO,CAAT,CAMA,mBACI,wCACE,aAAM,SAAS,CAAC,kBAAhB,0BADF,cAIE,YAAK,SAAS,CAAC,QAAf,UACKF,MAAM,CAACc,MAAP,CAAgB,CAAhB,EAAqBd,MAAM,CAACe,GAAP,CAAW,SAACC,KAAD,CAAQC,KAAR,qBAC7B,KAAC,WAAD,gBAA4B,UAAU,CAAE,OAAxC,CAAiD,KAAK,CAAED,KAAxD,EAAmEA,KAAnE,EAAkBA,KAAK,CAACE,EAAxB,CAD6B,EAAX,CAD1B,EAJF,CASGd,QAAQ,CAAG,CAAX,eACG,KAAC,mBAAD,EAAqB,OAAO,CAAED,OAA9B,CAAuC,QAAQ,CAAEC,QAAjD,EAVN,GADJ,CAeH,CApCD,CAsCA,cAAeL,CAAAA,KAAf","sourcesContent":["import React, {useEffect, useState} from 'react'\nimport axios from \"axios\";\nimport { api_key } from '../../axios/urls';\n\nimport SingleMovie from '../SingleMovie/SingleMovie';\nimport PaginationComponent from '../Pagination/PaginationComponent';\n\n\nconst Movie = () => {\n    const [movies, setMovies] = useState([]);\n    const [page, setPage] = useState(1);\n    const [numPages, setNumPages] = useState(10);\n\n    function getMovies(page) {\n        axios({\n            method: \"GET\",\n            url: `https://api.themoviedb.org/3/discover/movie?api_key=${api_key}&language=ko&sort_by=popularity.desc&include_adult=false&include_video=false&page=1&with_watch_monetization_types=flatrate&page=${page}`\n        }).then(response => {\n            setMovies(response.data.results ?? [])\n            setNumPages(response.data.total_pages)\n           \n        })\n    }\n    useEffect(() => {\n        getMovies(page);\n    },[page])\n\n    \n\n    return (\n        <>\n          <span className=\"movie__container\">\n              영화\n          </span>\n          <div className=\"movies\">\n              {movies.length > 0 && movies.map((movie, index) => (\n                  <SingleMovie key={movie.id} media_type={'movie'} movie={movie} {...movie} />\n              ))}\n          </div>\n          {numPages > 1 && (\n              <PaginationComponent setPage={setPage} numPages={numPages} />\n          )}\n        </>\n    )\n}\n\nexport default Movie\n"]},"metadata":{},"sourceType":"module"}